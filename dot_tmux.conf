source-file ~/.tmux-github-light.conf

# Set ctrl-n as prefix
unbind C-b
set -g prefix C-n
bind-key C-n send-prefix

# Switch to last active window with ctrl-n n
bind C-n send-prefix
bind n last-window

# Switch windows with alt-h and alt-l
bind -n M-h previous-window
bind -n M-l next-window

# Address vim mode switching delay (http://superuser.com/a/252717/65504)
set -s escape-time 0

# Increase scrollback buffer size from 2000 to 50000 lines
set -g history-limit 50000

# Enable true color support
set -g default-terminal "tmux-256color"
set-option -sa terminal-overrides ",xterm*:Tc"

# shortcut for reloading config
bind r source-file ~/.tmux.conf \; display "Reloaded!"

set -g clock-mode-colour default

# VI feeling for tmux
source-file ~/.tmux-nvim.conf

# Split panes
bind | split-window -h
bind - split-window -v

# bind key for synchronizing panes
bind-key a set-window-option synchronize-panes

# Toggle Keybindings (turn off keybindings for remote sessions)
color_black="#383A42"
color_white="#ffffff"
color_cyan="#ca1243"
mode_separator="î‚°"

bind -T root F12  \
  set prefix None \;\
  set key-table off \;\
  set @mode_indicator_custom_prompt "  OFF #[default]#[fg=$color_cyan]$mode_separator" \;\
  set @mode_indicator_custom_mode_style bg=$color_cyan,fg=$color_white \;\
  if -F '#{pane_in_mode}' 'send-keys -X cancel' \;\
  refresh-client -S \;\

bind -T off F12 \
  set -u prefix \;\
  set -u key-table \;\
  set -u @mode_indicator_custom_prompt \;\
  set -u @mode_indicator_custom_mode_style \;\
  refresh-client -S

# Start window indexing at 1, not 0
set -g base-index 1
set -g renumber-windows on
set -g pane-base-index 1

# Make pane switching more predictable
set-option -g focus-events on

set -g status-left '
    #{tmux_mode_indicator}'

set -g status-right '#(kube-tmux) | %H:%M %d-%h-%Y | #{uptime}'
set -g status on
set -g status-interval 1
set -g status-left-length 90
set -g status-right-length 90

# List of plugins
set -g @plugin 'tmux-plugins/tpm'
set -g @plugin 'tmux-plugins/tmux-sensible'
set -g @plugin 'tmux-plugins/tmux-yank'
set -g @plugin 'robhurring/tmux-uptime'
set -g @plugin 'MunifTanjim/tmux-mode-indicator'

# Initialize TMUX plugin manager (keep this line at the very bottom of tmux.conf)
run '/usr/share/tmux-plugin-manager/tpm'
